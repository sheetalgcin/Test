pipeline {
  
  agent {
    label 'docker'
  }

  stages {
    agent {
        dockerfile {
          filename 'Docker'
          label 'docker'
          args "-v $WORKSPACE:/workspace"
          additionalBuildArgs "--no-cache"
        }
      }
    stage('Checkout') {
      steps {
        checkout scm
      }
    }

    stage('Robot tests') {
      steps {
        sh "docker run robot"
      }
    }

  }

}
